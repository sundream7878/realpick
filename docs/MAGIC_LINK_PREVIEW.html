<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë§¤ì§ë§í¬ ì´ë©”ì¼ ë¯¸ë¦¬ë³´ê¸° - ë¦¬ì–¼í”½</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }
    
    .preview-container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .preview-header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }
    
    .preview-header h1 {
      font-size: 36px;
      font-weight: 800;
      margin-bottom: 10px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    .preview-header p {
      font-size: 16px;
      opacity: 0.9;
    }
    
    .preview-content {
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }
    
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      border-bottom: 2px solid #e5e7eb;
      padding-bottom: 10px;
    }
    
    .tab-button {
      padding: 12px 24px;
      border: none;
      background: transparent;
      color: #6b7280;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s;
    }
    
    .tab-button:hover {
      background: #f3f4f6;
    }
    
    .tab-button.active {
      background: linear-gradient(135deg, #2C2745 0%, #3E757B 100%);
      color: white;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
      animation: fadeIn 0.5s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .email-preview {
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    
    .code-preview {
      background: #1e293b;
      color: #e2e8f0;
      padding: 24px;
      border-radius: 12px;
      overflow-x: auto;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.6;
    }
    
    .code-preview pre {
      margin: 0;
    }
    
    .info-box {
      background: #f0f9ff;
      border-left: 4px solid #3b82f6;
      padding: 16px 20px;
      border-radius: 8px;
      margin-top: 20px;
    }
    
    .info-box h3 {
      color: #1e40af;
      font-size: 18px;
      margin-bottom: 8px;
    }
    
    .info-box p {
      color: #1e3a8a;
      font-size: 14px;
      line-height: 1.6;
    }
    
    .copy-button {
      background: linear-gradient(135deg, #2C2745 0%, #3E757B 100%);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 10px;
      transition: transform 0.2s;
    }
    
    .copy-button:hover {
      transform: scale(1.05);
    }
    
    .copy-button:active {
      transform: scale(0.95);
    }
  </style>
</head>
<body>
  <div class="preview-container">
    <div class="preview-header">
      <h1>ë¦¬ì–¼í”½ ë§¤ì§ë§í¬ ì´ë©”ì¼ ë¯¸ë¦¬ë³´ê¸°</h1>
      <p>ë¦¬ì–¼í”½ ë¸Œëœë“œ ë””ìì¸ì´ ì ìš©ëœ ë§¤ì§ë§í¬ ë¡œê·¸ì¸ ì´ë©”ì¼ í…œí”Œë¦¿</p>
    </div>
    
    <div class="preview-content">
      <div class="tabs">
        <button class="tab-button active" onclick="showTab('visual')">ğŸ“§ ë¹„ì£¼ì–¼ ë¯¸ë¦¬ë³´ê¸°</button>
        <button class="tab-button" onclick="showTab('html')">ğŸ’» HTML ì½”ë“œ</button>
        <button class="tab-button" onclick="showTab('text')">ğŸ“ í…ìŠ¤íŠ¸ ë²„ì „</button>
        <button class="tab-button" onclick="showTab('usage')">ğŸš€ ì‚¬ìš©ë²•</button>
      </div>
      
      <!-- ë¹„ì£¼ì–¼ ë¯¸ë¦¬ë³´ê¸° íƒ­ -->
      <div id="tab-visual" class="tab-content active">
        <div class="email-preview">
          <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: #F9FAFB; padding: 40px 20px;">
            <tr>
              <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" border="0" style="background-color: #FFFFFF; border-radius: 16px; overflow: hidden; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05); max-width: 600px;">
                  <tr>
                    <td style="background: linear-gradient(135deg, #2C2745 0%, #3E757B 100%); padding: 50px 30px; text-align: center;">
                      <h1 style="margin: 0; color: #FFFFFF; font-size: 34px; font-weight: 800; letter-spacing: -1px;">ë¦¬ì–¼í”½</h1>
                      <p style="margin: 12px 0 0 0; color: #E5E7EB; font-size: 15px; letter-spacing: 0.5px; opacity: 0.9;">REAL PICK MAGIC LINK</p>
                    </td>
                  </tr>
                  <tr>
                    <td style="padding: 50px 40px;">
                      <h2 style="margin: 0 0 20px 0; color: #111827; font-size: 24px; font-weight: 700; text-align: center;">ë¡œê·¸ì¸ ë§í¬ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤</h2>
                      <p style="margin: 0 0 35px 0; color: #4B5563; font-size: 16px; line-height: 1.7; text-align: center;">ì•ˆë…•í•˜ì„¸ìš”! ë¦¬ì–¼í”½ì— ë¡œê·¸ì¸í•˜ì‹œë ¤ë©´<br>ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•´ ì£¼ì„¸ìš”. ë³„ë„ì˜ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ë°”ë¡œ ì ‘ì†ë©ë‹ˆë‹¤.</p>
                      <table width="100%" cellpadding="0" cellspacing="0" border="0">
                        <tr>
                          <td align="center">
                            <a href="#demo" style="display: inline-block; background: linear-gradient(135deg, #2C2745 0%, #3E757B 100%); color: #FFFFFF; text-decoration: none; padding: 18px 50px; border-radius: 12px; font-size: 18px; font-weight: 700; box-shadow: 0 4px 15px rgba(44, 39, 69, 0.3);">ë¦¬ì–¼í”½ ì‹œì‘í•˜ê¸°</a>
                          </td>
                        </tr>
                      </table>
                      <div style="margin-top: 45px; padding-top: 30px; border-top: 1px solid #F3F4F6;">
                        <p style="margin: 0 0 10px 0; color: #9CA3AF; font-size: 13px; text-align: center;">ë²„íŠ¼ì´ ì‘ë™í•˜ì§€ ì•Šë‚˜ìš”? ì•„ë˜ ë§í¬ë¥¼ ë³µì‚¬í•˜ì—¬ ë¸Œë¼ìš°ì €ì— ë¶™ì—¬ë„£ì–´ ì£¼ì„¸ìš”.</p>
                        <p style="margin: 0; color: #3E757B; font-size: 12px; text-align: center; word-break: break-all;"><a href="#demo" style="color: #3E757B; text-decoration: underline;">https://realpick.com/auth/callback?apiKey=demo...</a></p>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td style="background-color: #F9FAFB; padding: 30px; text-align: center; border-top: 1px solid #F3F4F6;">
                      <p style="margin: 0 0 8px 0; color: #9CA3AF; font-size: 12px;">ë³¸ ë©”ì¼ì€ ë³¸ì¸ í™•ì¸ì„ ìœ„í•´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.<br>ë³¸ì¸ì´ ìš”ì²­í•˜ì§€ ì•Šì€ ê²½ìš° ì´ ë©”ì¼ì„ ì•ˆì „í•˜ê²Œ ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤.</p>
                      <p style="margin: 0; color: #D1D5DB; font-size: 11px; font-weight: 500;">Â© REALPICK. All rights reserved.</p>
                    </td>
                  </tr>
                </table>
              </td>
            </tr>
          </table>
        </div>
        <div class="info-box">
          <h3>âœ¨ ë””ìì¸ íŠ¹ì§•</h3>
          <p>
            â€¢ ë¦¬ì–¼í”½ ë¸Œëœë“œ ê·¸ë¼ë°ì´ì…˜ (#2C2745 â†’ #3E757B) ì ìš©<br>
            â€¢ ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ë°˜ì‘í˜• ë””ìì¸<br>
            â€¢ Gmail, Outlook, Apple Mail ë“± ì£¼ìš” í´ë¼ì´ì–¸íŠ¸ í˜¸í™˜<br>
            â€¢ ì ‘ê·¼ì„±ê³¼ ê°€ë…ì„±ì„ ê³ ë ¤í•œ í°íŠ¸ ë° ìƒ‰ìƒ ëŒ€ë¹„
          </p>
        </div>
      </div>
      
      <!-- HTML ì½”ë“œ íƒ­ -->
      <div id="tab-html" class="tab-content">
        <div class="code-preview">
          <pre><code>import { generateMagicLinkEmailHtml } from '@/lib/utils/magic-link-template';

// ë§¤ì§ë§í¬ URL
const magicLink = 'https://realpick.com/auth/callback?apiKey=xxx&oobCode=xxx';

// HTML í…œí”Œë¦¿ ìƒì„±
const emailHtml = generateMagicLinkEmailHtml(magicLink);

// Resendë¡œ ë°œì†¡
await resend.emails.send({
  from: 'ë¦¬ì–¼í”½ &lt;noreply@realpick.com&gt;',
  to: 'user@example.com',
  subject: 'ğŸ” ë¦¬ì–¼í”½ ë¡œê·¸ì¸ ë§í¬ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤',
  html: emailHtml,
});</code></pre>
        </div>
        <button class="copy-button" onclick="copyCode('html')">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>
      </div>
      
      <!-- í…ìŠ¤íŠ¸ ë²„ì „ íƒ­ -->
      <div id="tab-text" class="tab-content">
        <div class="code-preview">
          <pre><code>ë¦¬ì–¼í”½ (REALPICK)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ë¡œê·¸ì¸ ë§í¬ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤

ì•ˆë…•í•˜ì„¸ìš”! ë¦¬ì–¼í”½ì— ë¡œê·¸ì¸í•˜ì‹œë ¤ë©´ ì•„ë˜ ë§í¬ë¥¼ í´ë¦­í•´ ì£¼ì„¸ìš”.
ë³„ë„ì˜ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ë°”ë¡œ ì ‘ì†ë©ë‹ˆë‹¤.

ğŸ‘‰ ë¡œê·¸ì¸ ë§í¬:
https://realpick.com/auth/callback?apiKey=xxx&oobCode=xxx

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ë³¸ ë©”ì¼ì€ ë³¸ì¸ í™•ì¸ì„ ìœ„í•´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.
ë³¸ì¸ì´ ìš”ì²­í•˜ì§€ ì•Šì€ ê²½ìš° ì´ ë©”ì¼ì„ ì•ˆì „í•˜ê²Œ ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤.

Â© REALPICK. All rights reserved.</code></pre>
        </div>
        <div class="info-box">
          <h3>ğŸ“± í…ìŠ¤íŠ¸ ë²„ì „ì´ í•„ìš”í•œ ì´ìœ </h3>
          <p>
            HTMLì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì´ë©”ì¼ í´ë¼ì´ì–¸íŠ¸ë‚˜ ì ‘ê·¼ì„± ë„êµ¬(ìŠ¤í¬ë¦° ë¦¬ë”)ë¥¼ ìœ„í•´ 
            í…ìŠ¤íŠ¸ ë²„ì „ì„ í•¨ê»˜ ì œê³µí•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì´ë©”ì¼ ì„œë¹„ìŠ¤ëŠ” 
            ìë™ìœ¼ë¡œ ì‚¬ìš©ì í™˜ê²½ì— ë§ëŠ” ë²„ì „ì„ ì„ íƒí•©ë‹ˆë‹¤.
          </p>
        </div>
      </div>
      
      <!-- ì‚¬ìš©ë²• íƒ­ -->
      <div id="tab-usage" class="tab-content">
        <div class="code-preview">
          <pre><code>// 1ï¸âƒ£ ê¸°ë³¸ ì‚¬ìš©ë²•
import { generateMagicLinkEmailHtml } from '@/lib/utils/magic-link-template';

const html = generateMagicLinkEmailHtml(magicLink);

// 2ï¸âƒ£ API ë¼ìš°íŠ¸ì—ì„œ ì‚¬ìš©
// POST /api/auth/send-magic-link-custom
const response = await fetch('/api/auth/send-magic-link-custom', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ email: 'user@example.com' }),
});

// 3ï¸âƒ£ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env.local)
RESEND_API_KEY=re_xxxxxxxxxx
RESEND_FROM_EMAIL=noreply@realpick.com
NEXT_PUBLIC_SITE_URL=https://realpick.com

// 4ï¸âƒ£ Firebase Adminê³¼ í†µí•©
import { adminAuth } from '@/lib/firebase/admin';

const link = await adminAuth.generateSignInWithEmailLink(
  email,
  { url: 'https://realpick.com/auth/callback', handleCodeInApp: true }
);

const html = generateMagicLinkEmailHtml(link);
await resend.emails.send({ html, ... });</code></pre>
        </div>
        <button class="copy-button" onclick="copyCode('usage')">ğŸ“‹ ì½”ë“œ ë³µì‚¬</button>
        <div class="info-box">
          <h3>ğŸ“š ë” ìì„¸í•œ ì •ë³´</h3>
          <p>
            ì „ì²´ ì‚¬ìš© ê°€ì´ë“œëŠ” <code>lib/utils/MAGIC_LINK_README.md</code> íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.<br>
            API ë¼ìš°íŠ¸ ì˜ˆì‹œëŠ” <code>app/api/auth/send-magic-link-custom/route.ts</code>ì— ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    function showTab(tabName) {
      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.tab-button').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // ëª¨ë“  íƒ­ ë‚´ìš© ìˆ¨ê¹€
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // ì„ íƒëœ íƒ­ í™œì„±í™”
      event.target.classList.add('active');
      document.getElementById('tab-' + tabName).classList.add('active');
    }
    
    function copyCode(type) {
      const codeElement = document.querySelector(`#tab-${type} .code-preview code`);
      const text = codeElement.textContent;
      
      navigator.clipboard.writeText(text).then(() => {
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = 'âœ… ë³µì‚¬ ì™„ë£Œ!';
        button.style.background = '#10b981';
        
        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = 'linear-gradient(135deg, #2C2745 0%, #3E757B 100%)';
        }, 2000);
      }).catch(err => {
        alert('ë³µì‚¬ ì‹¤íŒ¨: ' + err);
      });
    }
  </script>
</body>
</html>
