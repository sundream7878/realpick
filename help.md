# 도움말 (마지막 커밋 이후 진행 중 이슈 정리)

마지막 커밋(`bccbb9b` - `이메일, 온보딩`) 이후 작업 중, **헤더 카테고리 드롭다운이 “헤더 영역 안에서만 스크롤로 동작”하는 문제**를 해결하려다 변경 반영/인코딩 이슈가 섞여 혼선이 있었습니다.  
이 문서는 **현재까지 해결된 것 / 아직 정리가 필요한 것 / 재현 및 검증 방법**을 정리한 메모입니다.

## 1) 문제 증상

- **헤더에서 카테고리(예: 로맨스)를 탭하면**, 드롭다운이 페이지 아래로 자연스럽게 펼쳐지지 않고  
  **헤더 컨테이너 안에 갇혀 “내부 스크롤로만” 내려가며 보이는 현상**이 발생.
- DOM을 보면 부모 요소/드롭다운 컨테이너에 `overflow-*`가 걸려 **클리핑(잘림)**이 발생하는 형태.

## 2) 원인(핵심)

드롭다운이 정상적으로 펼쳐지려면 **드롭다운이 위치한 상위 컨테이너에서 overflow로 잘리지 않아야** 합니다.  
이번 케이스에서는 아래 2군데가 직접적인 원인이었습니다.

- **`components/c-layout/AppHeader.tsx`**
  - 헤더 내부 래퍼에 `overflow-x-hidden`이 있어 드롭다운이 잘려 보일 수 있음
- **`components/c-common/ShowMenu.tsx`**
  - 드롭다운 컨테이너의 class 문자열에 `overflow-hidden`이 있어 내용이 잘림
  - 프로그램 목록에 `max-h-96 overflow-y-auto`가 있어 **드롭다운 내부 스크롤을 강제**

## 3) 현재 적용된 수정(해결된 것)

아래 변경으로 “드롭다운이 헤더 안에서 스크롤로만 보이는” 원인을 제거했습니다.

- **`AppHeader.tsx`**
  - `overflow-x-hidden` 제거
- **`ShowMenu.tsx`**
  - 드롭다운 컨테이너 class 문자열의 `overflow-hidden` 제거
  - 프로그램 목록의 `max-h-96 overflow-y-auto` 제거

## 4) 혼선을 만든 부분(내가 못했던/실수했던 부분)

- **소스와 DOM이 불일치처럼 보였던 이유**
  - Windows/PowerShell 편집 중 **CRLF(\\r\\n) 줄바꿈, 콘솔 인코딩** 때문에
    - 일부 도구 출력에서 line이 잘리거나, 한국어 주석이 깨져 보이거나,
    - 같은 파일을 읽어도 도구마다 다르게 보이는 현상이 발생
- **빌드 에러 발생(과거)**
  - PowerShell로 파일을 저장하면서 **인코딩(BOM) 또는 문자 깨짐**이 섞여
  - TSX에서 문자열이 깨진 것으로 인식되어 `Unterminated string constant` 같은 에러가 발생
  - 이후 해당 파일은 `git checkout`으로 복구하고, 변경은 최소 단위로 다시 적용

## 5) 검증 방법(추천 순서)

- **DOM에서 클래스 확인**
  - 드롭다운 열고 Elements에서 드롭다운 컨테이너/부모를 선택
  - `overflow: hidden/clip` 또는 `max-height`가 부모에 남아있는지 확인
- **코드에서 검색**
  - `overflow-x-hidden`, `overflow-hidden`, `max-h-96`, `overflow-y-auto`를 grep
- **서버/캐시**
  - 개발 서버 재시작 + `.next` 삭제 후 재실행

## 6) 남아있는 작업/주의사항

- 이 커밋 이후 작업트리에 **이메일/Resend 문서 및 `lib/supabase/email-notification.ts` 변경이 별도로 남아있습니다.**
  - 이번 드롭다운 이슈와 무관할 수 있으니, 커밋/PR 분리 권장
- Git이 “LF가 CRLF로 바뀔 수 있다”는 경고를 띄우고 있어,
  - 가능한 한 **에디터(Cusor)에서 저장**하고,
  - 대량 치환은 스크립트/도구 사용 시 인코딩/줄바꿈을 주의하세요.








